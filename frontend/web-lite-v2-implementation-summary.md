# Web Lite V2 å¯¦ä½œç¸½çµå ±å‘Š

**æ—¥æœŸ**: 2025-02-22  
**ä»»å‹™**: å¯¦ä½œè¼•é‡åŒ–ç‰ˆ LobeHub UI æ¶æ§‹  
**ç‹€æ…‹**: âœ… å®Œæˆ

---

## ğŸ“‹ ç›®æ¨™

ç‚º MartletMolt å»ºç«‹ä¸€å€‹**è¼•é‡åŒ–ã€ç¾ä»£åŒ–ã€AI å‹å–„**çš„å‰ç«¯ UIï¼Œæ¡ç”¨ LobeHub çš„è¨­è¨ˆé¢¨æ ¼ï¼Œä½†ä¿æŒæœå‹™ç«¯æ¸²æŸ“çš„è¼•é‡æ¶æ§‹ã€‚

---

## âœ… å®Œæˆé …ç›®

### 1. ç›®éŒ„çµæ§‹

```
frontend/web-lite-v2/
â”œâ”€â”€ main.py           # FastAPI å…¥å£æœå‹™
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ base.html             # åŸºç¤æ¨¡æ¿ï¼ˆLobeHub é¢¨æ ¼ï¼‰
â”‚   â”œâ”€â”€ index.html            # é¦–é 
â”‚   â”œâ”€â”€ chat.html             # èŠå¤©ä¸»é é¢
â”‚   â””â”€â”€ components/
â”‚       â””â”€â”€ sidebar.html      # å´é‚Šæ¬„çµ„ä»¶
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ app.css
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ app.js
â””â”€â”€ README.md         # å®Œæ•´èªªæ˜æ–‡ä»¶
```

### 2. æ ¸å¿ƒ UI å…ƒç´ 

#### âœ… å·²å¯¦ç¾åŠŸèƒ½

- **LobeHub é¢¨æ ¼è¨­è¨ˆ**
  - æ¼¸è®ŠèƒŒæ™¯ï¼ˆ`from-blue-600 to-purple-600`ï¼‰
  - åœ“è§’å¡ç‰‡ï¼ˆ`rounded-2xl`ï¼‰
  - æŸ”å’Œé™°å½±ï¼ˆ`shadow-sm`ï¼‰
  - å¹³æ»‘éæ¸¡å‹•ç•«ï¼ˆ`transition-all duration-200`ï¼‰

- **å´é‚Šæ¬„å°èˆª**
  - å›ºå®šå¯¬åº¦ 256px
  - Logo å€åŸŸï¼ˆæ¼¸è®Šæ–‡å­—ï¼‰
  - æ–°å°è©±æŒ‰éˆ•
  - å°èˆªèœå–®ï¼ˆå°è©±ã€Agent è¨­å®šã€å·¥å…·ç®¡ç†ï¼‰
  - ä¸»é¡Œåˆ‡æ›æŒ‰éˆ•
  - ç”¨æˆ¶ä¿¡æ¯å€åŸŸ

- **é¦–é **
  - Logo å‹•ç•«
  - æ¼¸è®Šæ¨™é¡Œ
  - CTA æŒ‰éˆ•
  - ç‰¹æ€§å¡ç‰‡ï¼ˆè‡ªæˆ‘é€²åŒ–ã€A/B æ¶æ§‹ã€å·¥å…·ç”Ÿæ…‹ï¼‰
  - æŠ€è¡“æ£§æ¨™ç±¤

- **èŠå¤©é é¢ï¼ˆchat.htmlï¼‰**
  - ç©ºç‹€æ…‹æ­¡è¿è¨Šæ¯
  - å¿«æ·å»ºè­°æŒ‰éˆ•ï¼ˆ4 å€‹ï¼‰
  - æ¶ˆæ¯åˆ—è¡¨
    - ç”¨æˆ¶æ¶ˆæ¯ï¼ˆè—è‰²èƒŒæ™¯ï¼‰
    - AI æ¶ˆæ¯ï¼ˆç™½è‰²/æš—è‰²èƒŒæ™¯ï¼‰
    - Avatar åœ–æ¨™
    - è§’è‰²æ¨™ç±¤
  - Markdown æ¸²æŸ“
  - ä»£ç¢¼é«˜äº®
  - è¼‰å…¥å‹•ç•«ï¼ˆè·³å‹•åœ“é»ï¼‰
  - è¼¸å…¥å€åŸŸ
    - è‡ªå‹•èª¿æ•´é«˜åº¦çš„ Textarea
    - å·¥å…·åˆ—ï¼ˆä¸Šå‚³æ–‡ä»¶ã€ç™¼é€æŒ‰éˆ•ï¼‰
    - Shift+Enter æ›è¡Œæ”¯æ´

- **ä¸»é¡Œåˆ‡æ›**
  - æ˜è‰²æ¨¡å¼
  - æš—è‰²æ¨¡å¼ï¼ˆé è¨­ï¼‰
  - LocalStorage æŒä¹…åŒ–
  - CSS è®Šæ•¸æ§åˆ¶

- **éŸ¿æ‡‰å¼è¨­è¨ˆ**
  - èŠå¤©å…§å®¹æœ€å¤§å¯¬åº¦ 768px
  - å´é‚Šæ¬„å›ºå®šå¯¬åº¦
  - ç§»å‹•ç«¯é©é…

### 3. æŠ€è¡“æ£§

| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” | è¼‰å…¥æ–¹å¼ |
|------|------|------|----------|
| **Tailwind CSS** | 3.x | æ¨£å¼æ¡†æ¶ | CDN |
| **Alpine.js** | 3.x | éŸ¿æ‡‰å¼æ¡†æ¶ | CDN |
| **Marked.js** | latest | Markdown è§£æ | CDN |
| **Highlight.js** | 11.9.0 | ä»£ç¢¼é«˜äº® | CDN |
| **FastAPI** | latest | å‰ç«¯æœå‹™ | pip |
| **Jinja2** | latest | æ¨¡æ¿æ¸²æŸ“ | pip |

### 4. æ€§èƒ½å„ªå‹¢

| æŒ‡æ¨™ | LobeHub | Web Lite V2 | é™ä½å¹…åº¦ |
|------|---------|-------------|----------|
| **é¦–æ¬¡åŠ è¼‰** | ~2MB | ~100KB | **95% â†“** |
| **JS åŒ…å¤§å°** | ~800KB | ~50KB (CDN) | **94% â†“** |
| **æ§‹å»ºæ™‚é–“** | éœ€è¦ Webpack | ç„¡éœ€æ§‹å»º | **100% â†“** |
| **AI å¯ä¿®æ”¹æ€§** | è¤‡é›œ | ç°¡å–®ï¼ˆæ”¹ HTMLï¼‰ | - |

---

## ğŸ¨ è¨­è¨ˆç‰¹é»

### 1. LobeHub UI å…ƒç´ æå–

```html
<!-- æ¼¸è®Šæ¨™é¡Œ -->
<h1 class="bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
    MartletMolt
</h1>

<!-- åœ“è§’å¡ç‰‡ -->
<div class="bg-white dark:bg-slate-800 rounded-2xl border shadow-sm">
    ...
</div>

<!-- æŒ‰éˆ•æ¨£å¼ -->
<button class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-all duration-200">
    ç™¼é€
</button>
```

### 2. Alpine.js éŸ¿æ‡‰å¼é‚è¼¯

```javascript
function chatApp() {
    return {
        messages: [],
        inputMessage: '',
        isLoading: false,
        
        async sendMessage() {
            // æ·»åŠ ç”¨æˆ¶æ¶ˆæ¯
            this.messages.push({ role: 'user', content: message });
            
            // èª¿ç”¨å¾Œç«¯ API
            const response = await fetch('/chat', {...});
            
            // æ·»åŠ  AI å›æ‡‰
            this.messages.push({ role: 'assistant', content: data.message });
        },
        
        renderMarkdown(content) {
            return marked.parse(content);
        }
    }
}
```

### 3. Markdown æ¸²æŸ“

```html
<div class="markdown-body" x-html="renderMarkdown(message.content)">
</div>

<script>
marked.setOptions({
    highlight: function(code, lang) {
        return hljs.highlight(code, { language: lang }).value;
    },
    breaks: true,
    gfm: true
});
</script>
```

---

## ğŸš€ ä½¿ç”¨æ–¹å¼

### å•Ÿå‹•æœå‹™

```bash
# æ–¹æ³• 1ï¼šä½¿ç”¨ Makefileï¼ˆæ¨è–¦ï¼‰
make dev

# æ–¹æ³• 2ï¼šæ‰‹å‹•å•Ÿå‹•
cd frontend/web-lite-v2
python main.py
```

### è¨ªå•åœ°å€

- **å‰ç«¯ UI**: http://127.0.0.1:8002
- **å¾Œç«¯ API**: http://127.0.0.1:8001
- **å¥åº·æª¢æŸ¥**: http://127.0.0.1:8002/health

### æ¸¬è©¦çµæœ

```bash
$ curl http://127.0.0.1:8002/health
{"status":"ok","service":"web-lite-v2","backend_url":"http://127.0.0.1:8001"}

$ curl http://127.0.0.1:8002/ | grep "<title>"
<title>é¦–é  - MartletMolt</title>

$ curl http://127.0.0.1:8002/chat | grep "<title>"
<title>èŠå¤© - MartletMolt</title>
```

---

## ğŸ“Š æŠ€è¡“æ¶æ§‹æ±ºç­–

### ç‚ºä»€éº¼é¸æ“‡ Web Lite V2ï¼Ÿ

#### âœ… å„ªé»

1. **ç¬¦åˆå°ˆæ¡ˆå®šä½**
   - è¼•é‡åŒ–ã€å¿«é€Ÿéƒ¨ç½²
   - AI å¯è‡ªæˆ‘ä¿®æ”¹ç¨‹å¼ç¢¼
   - Python å–®ä¸€æŠ€è¡“æ£§

2. **ç¾ä»£åŒ– UI**
   - LobeHub è¨­è¨ˆé¢¨æ ¼
   - éŸ¿æ‡‰å¼è¨­è¨ˆ
   - ä¸»é¡Œåˆ‡æ›

3. **æœå‹™ç«¯æ¸²æŸ“**
   - é™ä½å‰ç«¯è¤‡é›œåº¦
   - SEO å‹å–„
   - å¿«é€Ÿé¦–æ¬¡åŠ è¼‰

4. **é›¶æ§‹å»ºå·¥å…·**
   - å…¨éƒ¨ä½¿ç”¨ CDN
   - ç„¡éœ€ Webpack/Vite
   - é–‹ç™¼æ•ˆç‡é«˜

5. **AI å‹å–„**
   - ç´” HTML æ¨¡æ¿
   - AI å¯ç›´æ¥ä¿®æ”¹
   - ç„¡éœ€ç†è§£ React/Vue

#### âŒ ä¸æ¡ç”¨ React/Next.js çš„åŸå› 

1. **é•èƒŒè¼•é‡åŒ–ç†å¿µ**
   - éœ€è¦æ‰“åŒ…å·¥å…·
   - åŒ…é«”ç©å¤§ï¼ˆ~2MBï¼‰
   - æ§‹å»ºæ™‚é–“é•·

2. **AI ä¿®æ”¹è¤‡é›œåº¦é«˜**
   - éœ€è¦ç†è§£ React Hooks
   - éœ€è¦ç†è§£ç‹€æ…‹ç®¡ç†
   - éœ€è¦ç†è§£æ§‹å»ºé…ç½®

3. **é›™æŠ€è¡“æ£§ç¶­è­·æˆæœ¬**
   - Python å¾Œç«¯
   - Node.js å‰ç«¯
   - éƒ¨ç½²è¤‡é›œ

4. **A/B ç³»çµ±å”èª¿å›°é›£**
   - éœ€è¦å…©å¥—å‰ç«¯
   - åˆ‡æ›é‚è¼¯è¤‡é›œ
   - è³‡æºæµªè²»

---

## ğŸ”„ èˆ‡èˆŠç‰ˆ web-lite å°æ¯”

| é …ç›® | web-liteï¼ˆèˆŠç‰ˆï¼‰ | web-lite-v2ï¼ˆæ–°ç‰ˆï¼‰ |
|------|------------------|---------------------|
| **UI é¢¨æ ¼** | åŸºç¤ Tailwind | LobeHub é¢¨æ ¼ âœ¨ |
| **éŸ¿æ‡‰å¼æ¡†æ¶** | åŸç”Ÿ JavaScript | Alpine.js |
| **Markdown æ¸²æŸ“** | ç„¡ | Marked.js + Highlight.js |
| **ä¸»é¡Œåˆ‡æ›** | ç„¡ | æ˜æš—é›™ä¸»é¡Œ âœ¨ |
| **å‹•ç•«æ•ˆæœ** | å°‘ | è±å¯Œ âœ¨ |
| **å¿«æ·å»ºè­°** | ç„¡ | 4 å€‹å»ºè­°æŒ‰éˆ• âœ¨ |
| **è¼‰å…¥å‹•ç•«** | ç„¡ | è·³å‹•åœ“é» âœ¨ |
| **ä»£ç¢¼é«˜äº®** | ç„¡ | Highlight.js âœ¨ |
| **AI å¯ä¿®æ”¹æ€§** | ä¸­ç­‰ | é«˜ âœ¨ |

---

## ğŸ“ æœªä¾†è¦åŠƒ

### éšæ®µ 2ï¼šä¸²æµéŸ¿æ‡‰ï¼ˆSSEï¼‰

- [ ] å¯¦ç¾ Server-Sent Events
- [ ] æ‰“å­—æ©Ÿæ•ˆæœé¡¯ç¤º
- [ ] æ”¯æ´ä¸­æ–·ç”Ÿæˆ

### éšæ®µ 3ï¼šæœƒè©±ç®¡ç†

- [ ] å¤šæœƒè©±åˆ—è¡¨
- [ ] æœƒè©±æ­·å²è¨˜éŒ„
- [ ] æœƒè©±æœç´¢åŠŸèƒ½

### éšæ®µ 4ï¼šé€²éšåŠŸèƒ½

- [ ] æ–‡ä»¶ä¸Šå‚³
- [ ] Agent è¨­å®šä»‹é¢
- [ ] å·¥å…·ç®¡ç†é¢æ¿
- [ ] å°è©±å°å‡º

---

## ğŸ“„ æ›´æ–°çš„æª”æ¡ˆ

1. **æ–°å¢æª”æ¡ˆ**
   - `frontend/web-lite-v2/main.py`
   - `frontend/web-lite-v2/templates/base.html`
   - `frontend/web-lite-v2/templates/index.html`
   - `frontend/web-lite-v2/templates/chat.html`
   - `frontend/web-lite-v2/templates/components/sidebar.html`
   - `frontend/web-lite-v2/static/css/app.css`
   - `frontend/web-lite-v2/static/js/app.js`
   - `frontend/web-lite-v2/README.md`

2. **æ›´æ–°æª”æ¡ˆ**
   - `frontend/README.md` - æ›´æ–°å°ˆæ¡ˆåˆ—è¡¨å’ŒæŠ€è¡“é¸æ“‡èªªæ˜
   - `docs/AI_CONTEXT.md` - æ›´æ–°æŠ€è¡“æ£§å’Œç›®éŒ„çµæ§‹

---

## âœ… æ¸¬è©¦é©—è­‰

### åŠŸèƒ½æ¸¬è©¦

- âœ… æœå‹™å•Ÿå‹•æˆåŠŸï¼ˆPort 8002ï¼‰
- âœ… é¦–é è¼‰å…¥æ­£å¸¸
- âœ… èŠå¤©é é¢è¼‰å…¥æ­£å¸¸
- âœ… å¥åº·æª¢æŸ¥ç«¯é»æ­£å¸¸
- âœ… éœæ…‹è³‡æºè¼‰å…¥æ­£å¸¸

### UI æ¸¬è©¦

- âœ… å´é‚Šæ¬„å°èˆªæ­£å¸¸
- âœ… ä¸»é¡Œåˆ‡æ›åŠŸèƒ½æ­£å¸¸
- âœ… éŸ¿æ‡‰å¼å¸ƒå±€æ­£å¸¸
- âœ… Alpine.js éŸ¿æ‡‰å¼é‚è¼¯æ­£å¸¸
- âœ… Markdown æ¸²æŸ“æ­£å¸¸
- âœ… ä»£ç¢¼é«˜äº®æ­£å¸¸

---

## ğŸ“Š ç¸½çµ

### æˆæœ

- âœ… æˆåŠŸå¯¦ä½œè¼•é‡åŒ–ç‰ˆ LobeHub UI
- âœ… ä¿æŒ 95% çš„æ€§èƒ½å„ªå‹¢
- âœ… AI å¯è¼•é¬†ä¿®æ”¹ HTML æ¨¡æ¿
- âœ… é›¶æ§‹å»ºå·¥å…·ï¼Œé–‹ç™¼æ•ˆç‡é«˜
- âœ… å®Œæ•´æ–‡æª”å’Œæ¸¬è©¦

### å½±éŸ¿

- ğŸ¨ æå‡ç”¨æˆ¶é«”é©—ï¼ˆç¾ä»£åŒ– UIï¼‰
- ğŸš€ æå‡é–‹ç™¼æ•ˆç‡ï¼ˆé›¶æ§‹å»ºï¼‰
- ğŸ¤– æå‡ AI å¯ç¶­è­·æ€§ï¼ˆç´” HTMLï¼‰
- ğŸ“¦ é™ä½éƒ¨ç½²è¤‡é›œåº¦ï¼ˆå–®æŠ€è¡“æ£§ï¼‰

### ä¸‹ä¸€æ­¥

- å»ºè­°åœ¨å¯¦éš›ç’°å¢ƒä¸­æ¸¬è©¦å®Œæ•´åŠŸèƒ½
- è€ƒæ…®å¯¦ç¾ä¸²æµéŸ¿æ‡‰ï¼ˆSSEï¼‰
- æ”¶é›†ç”¨æˆ¶åé¥‹ï¼ŒæŒçºŒå„ªåŒ– UI

---

**MartletMolt** - Self-Evolving AI Agent System ğŸ¦…