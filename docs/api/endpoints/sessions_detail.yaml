# GET /sessions/{session_id} - 取得會話詳情

order: 6
title: 取得會話詳情

endpoint:
  method: GET
  path: /sessions/{session_id}
  description: 取得指定會話的詳細資訊，包含完整的訊息歷史

request:
  path_parameters:
    - name: session_id
      type: string
      required: true
      description: 會話 ID

response:
  status_code: 200
  description: 請求成功
  body:
    id: "default"
    created_at: "2025-01-15T10:00:00"
    updated_at: "2025-01-15T10:30:00"
    messages:
      - id: "msg123"
        role: "user"
        content: "你好"
        name: null
        tool_call_id: null
        tool_calls: null
        timestamp: "2025-01-15T10:00:00"
      - id: "msg456"
        role: "assistant"
        content: "你好！有什麼我可以幫你的嗎？"
        name: null
        tool_call_id: null
        tool_calls: null
        timestamp: "2025-01-15T10:00:05"
    tool_calls: []
    metadata: {}
  fields:
    - name: id
      type: string
      description: 會話 ID
    - name: created_at
      type: string
      description: 建立時間（ISO 8601）
    - name: updated_at
      type: string
      description: 最後更新時間（ISO 8601）
    - name: messages
      type: array[Message]
      description: 完整訊息列表
    - name: tool_calls
      type: array
      description: 工具調用記錄
    - name: metadata
      type: object
      description: 會話元數據

status_codes:
  - code: 200
    description: 請求成功
  - code: 404
    description: 會話不存在

examples:
  curl: |
    curl http://localhost:8001/sessions/default

  python: |
    import requests

    response = requests.get("http://localhost:8001/sessions/default")
    session = response.json()

    print(f"會話 ID: {session['id']}")
    print(f"訊息數量: {len(session['messages'])}")

    # 遍歷所有訊息
    for msg in session['messages']:
        print(f"[{msg['role']}] {msg['content']}")

  javascript: |
    const response = await fetch('http://localhost:8001/sessions/default');
    const session = await response.json();

    console.log('會話 ID:', session.id);
    console.log('訊息數量:', session.messages.length);

    // 遍歷所有訊息
    session.messages.forEach(msg => {
      console.log(`[${msg.role}] ${msg.content}`);
    });