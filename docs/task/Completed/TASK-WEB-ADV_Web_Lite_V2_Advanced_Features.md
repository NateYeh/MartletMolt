# TASK-WEB-ADV: Web Lite V2 é€²éšåŠŸèƒ½å¯¦ä½œ (å¾…å•Ÿå‹• ğŸ“„)

**å»ºç«‹æ—¥æœŸ**: 2025-02-22  
**å„ªå…ˆç´š**: ä¸­  
**ç‹€æ…‹**: (å·²å®Œæˆ âœ…) 2025-02-23

---

## ğŸ“‹ ä»»å‹™æ¦‚è¿°

Web Lite V2 çš„ç¬¬ä¸€éšæ®µæ ¸å¿ƒåŠŸèƒ½ï¼ˆä»‹é¢ã€ä¸²æµã€ä¸»é¡Œï¼‰å·²å®Œæˆã€‚æœ¬ä»»å‹™æ—¨åœ¨è£œå®Œã€Œç”Ÿç”¢åŠ›ç´šåˆ¥ã€çš„é€²éšèƒ½åŠ›ï¼ŒåŒ…æ‹¬å¤šæœƒè©±ç®¡ç†ã€æŒä¹…åŒ–æ­·å²ç´€éŒ„ã€æ–‡ä»¶ä¸Šå‚³ä»¥åŠè¦–è¦ºåŒ–çš„ Agent/å·¥å…·é…ç½®é¢æ¿ã€‚

---

## ğŸ¯ ç›®æ¨™

- è®“ç”¨æˆ¶èƒ½é–‹å•Ÿã€å‘½åèˆ‡åˆªé™¤å¤šå€‹ç¨ç«‹çš„å°è©±æœƒè©± (Sessions)ã€‚
- å¯¦ç¾è¨Šæ¯æŒä¹…åŒ–ï¼Œé‡å•Ÿæœå‹™å¾Œå°è©±ç´€éŒ„ä¸éºå¤±ã€‚
- æ”¯æ´æ–‡ä»¶ä½œç‚ºä¸Šä¸‹æ–‡é™„ä»¶ï¼ˆå¦‚ .txt, .md, .pdfï¼‰ã€‚
- æä¾› UI è¨­å®šä»‹é¢ï¼Œç„¡éœ€ä¿®æ”¹ä»£ç¢¼å³å¯å‹•æ…‹èª¿æ•´ Agent åƒæ•¸èˆ‡é–‹é—œå·¥å…·ã€‚

---

## ğŸ› ï¸ æŠ€è¡“å¯¦ä½œè·¯å¾‘

### 1. æœƒè©±èˆ‡æ­·å²ç³»çµ± (Session & History)
- **å¾Œç«¯**: 
    - å»ºç«‹ `marltet_molt/models/session.py` å®šç¾©è³‡æ–™çµæ§‹ã€‚
    - å»ºç«‹ `marltet_molt/storage/chat_history.py` å¯¦ä½œ SQLite æŒä¹…åŒ–å±¤ã€‚
    - æ–°å¢ `/api/sessions/` ç³»åˆ— REST ç«¯é»ï¼ˆCRUDï¼‰ã€‚
- **å‰ç«¯**: 
    - æ›´æ–° `sidebar.html` å¯¦ç¾å‹•æ…‹æœƒè©±åˆ—è¡¨ã€‚
    - åœ¨ `chat.js` (æˆ– `chat.html` è…³æœ¬) åŠ å…¥ `loadHistory()` é‚è¼¯ã€‚

### 2. æ–‡ä»¶è™•ç† (File Attachment)
- **å¾Œç«¯**: æ–°å¢ `/api/upload` ç«¯é»ï¼Œå°‡æª”æ¡ˆå„²å­˜è‡³ `data/uploads/`ã€‚
- **å‰ç«¯**: å•Ÿç”¨ç¾æœ‰çš„éš±è—ä¸Šå‚³æŒ‰éˆ•ï¼Œå¯¦ä½œæ‹–ç§»èˆ‡é¸æ“‡æª”æ¡ˆä¸Šå‚³åŠŸèƒ½ã€‚

### 3. é…ç½®é¢æ¿ (Configuration Panel)
- **å‰ç«¯**: å¯¦ä½œ `settings.html` èˆ‡ `tools.html`ã€‚
- **å¾Œç«¯**: æ–°å¢ `/api/settings` èˆ‡ `/api/tools` æ“ä½œ APIã€‚

---

## ğŸ“ ä¿®æ”¹è·¯å¾‘æ¸…å–®

### å¾Œç«¯æ ¸å¿ƒ
- `backend/system_a/martlet_molt/api/routes/session.py` (æ–°å»º)
- `backend/system_a/martlet_molt/api/routes/settings.py` (æ–°å»º)
- `backend/system_a/martlet_molt/models/session.py` (æ–°å»º)
- `backend/system_a/martlet_molt/storage/chat_history.py` (æ–°å»º)

### å‰ç«¯é é¢
- `frontend/web-lite-v2/main.py` (æ›´æ–°è·¯ç”±)
- `frontend/web-lite-v2/templates/chat.html` (æ›´æ–°)
- `frontend/web-lite-v2/templates/components/sidebar.html` (æ›´æ–°)
- `frontend/web-lite-v2/templates/settings.html` (æ–°å»º)
- `frontend/web-lite-v2/templates/tools.html` (æ–°å»º)

---

## âœ… é©—è­‰æ–¹å¼

1. **æœƒè©±ç®¡ç†**: å»ºç«‹ 3 å€‹æ–°æœƒè©±ï¼Œåˆ†åˆ¥å‘½åï¼Œåˆ‡æ›æ™‚ç¢ºèªå°æ‡‰å…§å®¹æ­£ç¢ºè¼‰å…¥ã€‚
2. **æŒä¹…åŒ–**: ç™¼é€è¨Šæ¯å¾Œé‡å•Ÿ Python æœå‹™ï¼Œç¢ºèªä¹‹å‰çš„å°è©±ä»åœ¨ã€‚
3. **è¨­å®šé€£å‹•**: åœ¨è¨­å®šé é¢ä¿®æ”¹ Temperatureï¼Œç¢ºèªä¹‹å¾Œçš„å°è©± API èª¿ç”¨è«‹æ±‚ä¸­åŒ…å«è©²åƒæ•¸ã€‚
4. **å·¥å…·é–‹é—œ**: åœ¨å·¥å…·é¢æ¿é—œé–‰ `web_search`ï¼Œç¢ºèª Agent ä¸å†å‘¼å«è©²å·¥å…·ã€‚
5. **ç¨‹å¼ç¢¼æª¢æŸ¥**: åŸ·è¡Œ `ruff check --fix` èˆ‡ `pyright`ã€‚
